/*
 * Copyright (C) 2015-2016 Texas Instruments Incorporated - http://www.ti.com/
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 */

#include <dt-bindings/gpio/gpio.h>
#include <dt-bindings/input/input.h>

/ {
	compatible = "ti,am5728-evm", "ti,am572x-beagle-x15", "ti,am5728", "ti,dra742", "ti,dra74", "ti,dra7";

	gpio_keys {
		compatible = "gpio-keys";
		#address-cells = <1>;
		#size-cells = <0>;
		autorepeat;

		USER1 {
			label = "Up";
			linux,code = <KEY_UP>;
			gpios = <&gpio2 23 GPIO_ACTIVE_LOW>;
		};

		USER2 {
			label = "Down";
			linux,code = <KEY_DOWN>;
			gpios = <&gpio2 25 GPIO_ACTIVE_LOW>;
		};

		USER3 {
			label = "Left";
			linux,code = <KEY_LEFT>;
			gpios = <&gpio2 28 GPIO_ACTIVE_LOW>;
		};

		USER4 {
			label = "Right";
			linux,code = <KEY_RIGHT>;
			gpios = <&gpio2 24 GPIO_ACTIVE_LOW>;
		};

		USER5 {
			label = "Home";
			linux,code = <KEY_HOME>;
			gpios = <&gpio2 20 GPIO_ACTIVE_LOW>;
		};
	};
};

&i2c5 {
	status = "okay";
	clock-frequency = <400000>;

	mt9t11x@3C {
		compatible = "aptina,mt9t111";
		reg = <0x3C>;

		reset-gpios = <&gpio4 17 GPIO_ACTIVE_LOW>;
		oscen-gpios = <&gpio5 10 GPIO_ACTIVE_HIGH>;
		powerdown-gpios = <&gpio5 11 GPIO_ACTIVE_LOW>;
		bufen-gpios = <&gpio5 12 GPIO_ACTIVE_LOW>;
		camen-gpios = <&gpio6 11 GPIO_ACTIVE_LOW>;

		port {
			cam: endpoint {
				remote-endpoint = <&vin3a>;
				hsync-active = <1>;
				vsync-active = <1>;
				pclk-sample = <0>;
				input-clock-freq = <32000000>;
				pixel-clock-freq = <96000000>;
			};
		};
	};
};

&vip2 {
	status = "okay";
};

&vin3a {
	status = "okay";
	endpoint {
		slave-mode;
		remote-endpoint = <&cam>;
	};
};
